<h1>Edit basic details of request</h1>

<%= error_messages_for 'info_request' %>

<% form_tag '../update/' + @info_request.id.to_s do %>

   <p><label for="info_request_title">Title</label> (warning: editing this will break URLs right now)<br/>
   <%= text_field 'info_request', 'title', :size => 50  %></p>

   <p><label for="info_request_prominence">Prominence</label> (whether is shown in lists of requests or not)<br/>
   <%= select( 'info_request', "prominence", { "normal" => "normal", "backpage" => "backpage"}) %>

   <p><label for="info_request_awaiting_description">Awaiting description</label><br/>
   <%= select('info_request', "awaiting_description", [["Yes",true],["No",false]]) %>
   </p>

   <p><label for="info_request_described_state">Described state</label><br/>
   <%= select( 'info_request', "described_state",
       [ 
        'waiting_response',
        'waiting_clarification', 
        'not_held',
        'rejected', 
        'successful', 
        'partially_successful',
        'requires_admin',
    ]) %>
    </p>

   <p><%= submit_tag 'Save changes' %>
   </p>

  <p><strong>Note:</strong> To edit the actual request body text, click edit
  next to the specific outgoing message.
  </p>

<% end %>

<hr>

<% form_tag '../fully_destroy/' + @info_request.id.to_s do %>
    <p>
    <strong>This is permanent and irreversible!</strong> <%= submit_tag 'Destory request entirely' %>
    <br>Use it mainly if someone posts private information, e.g. made a Data Protection request. It
    destroys all responses and tracks as well.
    </p>

<% end %>

<hr>

<p>
<%= link_to 'Show', '../show/' + @info_request.id.to_s %> |
<%= link_to 'List all', '../list' %>
</p>

